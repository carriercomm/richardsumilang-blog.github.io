<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Tiff on Top Secret Labs - Richard Sumilang </title>
    <generator uri="https://gohugo.io">Hugo</generator>
    <link>http://richardsumilang.com/tags/tiff/</link>
    <language>en-us</language>
    <author>Richard Sumilang</author>
    
    <updated>Sun, 106 Aug 171000 10:10:10 PST</updated>
    
    <item>
      <title>Working with Apple&#39;s iOS image orientation</title>
      <link>http://richardsumilang.com/programming/php/graphics/working-with-apples-ios-image-orientation/</link>
      <pubDate>Sun, 106 Aug 171000 10:10:10 PST</pubDate>
      <author>Richard Sumilang</author>
      <guid>http://richardsumilang.com/programming/php/graphics/working-with-apples-ios-image-orientation/</guid>
      <description>&lt;p&gt;You might notice pictures taken with an iOS device (iPhone or iPad) look like
they are not rotated properly when transferring them to another device or
software. This happens because the device is held at a certain angle when the
picture is taken and it&amp;rsquo;s up to the software at the receiving end to display it
however it wants.&lt;/p&gt;

&lt;p&gt;Apple&amp;rsquo;s camera will write orientation info into the exif headers of images
taken and you can rotate it accordingly.&lt;/p&gt;

&lt;p&gt;Here is an example of rotating an image using PHP with the ImageMagick library;&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-php&#34; title=&#34;Rotate iOS image&#34;&gt;&amp;lt;?php

// Rotate iOS image
// @author Richard Sumilang &amp;lt;me@richardsumilang.com&amp;gt;

$imageFile = &#39;/foo/bar.jpg&#39;;
$finfo = finfo_open(FILEINFO_MIME_TYPE);
$mimeType = finfo_file($finfo, $imageFile);
finfo_close($finfo);

// Detect if jpeg or tiff
if ( in_array($mimeType, [&#39;image/jpeg&#39;, &#39;image/tiff&#39;]) ) {
    $exif = exif_read_data($imageFile);
    if ( isset($exif[&#39;Orientation&#39;]) &amp;amp;&amp;amp; !empty($exif[&#39;Orientation&#39;]) ) {

        // Decide orientation
        if ( $exif[&#39;Orientation&#39;] == 3 ) {
            $rotation = 180;
        } else if ( $exif[&#39;Orientation&#39;] == 6 ) {
            $rotation = 90;
        } else if ( $exif[&#39;Orientation&#39;] == 8 ) {
            $rotation = -90;
        } else {
            $rotation = 0;
        }

        // Rotate the image
        if ( $rotation ) {
            $imagick = new Imagick();
            $imagick-&amp;gt;readImage($imageFile);
            $imagick-&amp;gt;rotateImage(new ImagickPixel(&#39;none&#39;), $rotation);
            $imagick-&amp;gt;writeImage($imageFile);
            $imagick-&amp;gt;clear();
            $imagick-&amp;gt;destroy();
        }

    }
}&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Note: Only jpeg and tiff files contain exif information.&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>
