<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Servers on Top Secret Labs - Richard Sumilang </title>
    <generator uri="https://gohugo.io">Hugo</generator>
    <link>http://richardsumilang.com/server/</link>
    <language>en-us</language>
    <author>Richard Sumilang</author>
    
    <updated>Sun, 16 Aug 90100 01:01:01 PST</updated>
    
    <item>
      <title>SynoCommunity packages for Synology NAS</title>
      <link>http://richardsumilang.com/server/synology/synocommunity/synocommunity-packages-for-synology-nas/</link>
      <pubDate>Sun, 16 Aug 90100 01:01:01 PST</pubDate>
      <author>Richard Sumilang</author>
      <guid>http://richardsumilang.com/server/synology/synocommunity/synocommunity-packages-for-synology-nas/</guid>
      <description>&lt;p&gt;A great source for all sorts of packages such as Node.js, Zshell, BitTorrent
Sync, Redis, and Firefox Sync Server just to name a few. Check out the
&lt;a href=&#34;https://synocommunity.com/packages&#34; title=&#34;SynoCommunity Packages&#34;&gt;full list of packages&lt;/a&gt; or just add the source to your package manager :)&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;Log into your NAS as administrator and go to Main &lt;strong&gt;Menu → Package Center →
Settings → Package Sources.&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Click &lt;strong&gt;Add&lt;/strong&gt;, type &lt;em&gt;SynoCommunity&lt;/em&gt; as &lt;strong&gt;Name&lt;/strong&gt; and
&lt;em&gt;&lt;a href=&#34;http://packages.synocommunity.com/&#34;&gt;http://packages.synocommunity.com/&lt;/a&gt;&lt;/em&gt; as &lt;strong&gt;Location&lt;/strong&gt; and then press &lt;strong&gt;OK&lt;/strong&gt; to
validate.&lt;/li&gt;
&lt;li&gt;Go back to the &lt;strong&gt;Package Center&lt;/strong&gt; and enjoy SynoCommunity&amp;rsquo;s packages in the
&lt;strong&gt;Community&lt;/strong&gt; tab&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;See the &lt;a href=&#34;https://synocommunity.com/&#34; title=&#34;SynoCommunity&#34;&gt;official site&lt;/a&gt; for more info. Happy hacking!&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>How to enable SSH access to Synology DiskStation</title>
      <link>http://richardsumilang.com/server/synology/diskstation/enable-ssh-access-to-synology-diskstation/</link>
      <pubDate>Sun, 76 Aug 120700 07:07:07 PST</pubDate>
      <author>Richard Sumilang</author>
      <guid>http://richardsumilang.com/server/synology/diskstation/enable-ssh-access-to-synology-diskstation/</guid>
      <description>&lt;p&gt;Log into your system with an administrator account and open the
&lt;strong&gt;&lt;sup&gt;1&lt;/sup&gt;Control Panel&lt;/strong&gt; applet. From there, click on
&lt;strong&gt;&lt;sup&gt;2&lt;/sup&gt;Terminal &amp;amp; SNMP&lt;/strong&gt;, &lt;strong&gt;&lt;sup&gt;3&lt;/sup&gt;Enabled SSH service&lt;/strong&gt;, and
&lt;strong&gt;&lt;sup&gt;4&lt;/sup&gt;Apply&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://richardsumilang.com/images/server/synology/diskstation/how-to-enable-ssh-access-to-synology-diskstation/steps.png&#34; /&gt;&lt;/p&gt;

&lt;p&gt;It doesn&amp;rsquo;t get any easier than that! Check out the &lt;a href=&#34;http://forum.synology.com/wiki/index.php/Enabling_the_Command_Line_Interface&#34; title=&#34;Enabling the command line interface&#34;&gt;Synology Wiki&lt;/a&gt; for more
information. You can log to the root account using your admin password. :)&lt;/p&gt;

&lt;p&gt;&lt;code&gt;ssh root@1.2.3.4&lt;/code&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>How to setup automated backups to SSH server with Synology DiskStation</title>
      <link>http://richardsumilang.com/server/synology/diskstation/setup-automated-backups-to-ssh-server-on-synology-diskstation/</link>
      <pubDate>Sun, 76 Aug 120701 07:07:07 PST</pubDate>
      <author>Richard Sumilang</author>
      <guid>http://richardsumilang.com/server/synology/diskstation/setup-automated-backups-to-ssh-server-on-synology-diskstation/</guid>
      <description>

&lt;p&gt;As a best practice, it&amp;rsquo;s great great to have your data in more than one
location. I use my Synology Diskation as a local network file server at my home.
The reality is something can happen and I lose all my important data in that
little box. From a BBQ, a birthday party, or maybe the house just burns down and
now all my data is gone. Unfortunately my network rack at home will never be as
secure as a network rack in a data center. So, backup your data because that&amp;rsquo;s
much easier to do rather than trying to restore from no backup. Makes logical
sense right? Derp.&lt;/p&gt;

&lt;h2 id=&#34;requirements:be368e5c5a440c3f73ef62c95f83fa39&#34;&gt;Requirements&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;Basic shell knowledge.&lt;/li&gt;
&lt;li&gt;A remote server that you can SSH into.&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;why-not-use-the-backup-amp-replication-plugin:be368e5c5a440c3f73ef62c95f83fa39&#34;&gt;Why not use the &amp;ldquo;Backup &amp;amp; Replication&amp;rdquo; plugin?&lt;/h3&gt;

&lt;p&gt;The &lt;em&gt;Backup &amp;amp; Replication&lt;/em&gt; module does not have a way to specify my remote
server&amp;rsquo;s rsync port. The default is &lt;strong&gt;22&lt;/strong&gt; but my host runs on port &lt;strong&gt;2222&lt;/strong&gt;.&lt;/p&gt;

&lt;h2 id=&#34;1-enable-ssh-on-your-synology-box:be368e5c5a440c3f73ef62c95f83fa39&#34;&gt;1. Enable SSH on your Synology Box&lt;/h2&gt;

&lt;p&gt;First things first. &lt;a href=&#34;http://richardsumilang.com/server/synology/diskstation/enable-ssh-access-to-synology-diskstation/&#34;&gt;Enable SSH&lt;/a&gt;
on your Synology box if you haven&amp;rsquo;t already done so and log in (via ssh).&lt;/p&gt;

&lt;h2 id=&#34;2-generate-ssh-keys:be368e5c5a440c3f73ef62c95f83fa39&#34;&gt;2. Generate SSH keys&lt;/h2&gt;

&lt;p&gt;We&amp;rsquo;ll need to generate a pair of keys here so &lt;code&gt;rsync&lt;/code&gt; is not prompted for your
password when it runs otherwise this defeats the purpose of automation. To do
this, run the following command:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;ssh-keygen -v -t rsa -f ~/.ssh/backup -P &#34;&#34;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;This will generate &lt;code&gt;/root/.ssh/backup&lt;/code&gt; and &lt;code&gt;/root/.ssh/backup.pub&lt;/code&gt;.&lt;/p&gt;

&lt;h2 id=&#34;3-copy-your-public-key-to-the-remote-server:be368e5c5a440c3f73ef62c95f83fa39&#34;&gt;3. Copy your public key to the remote server&lt;/h2&gt;

&lt;p&gt;Login to your remote server and put the contents of &lt;code&gt;/root/.ssh/backup.pub&lt;/code&gt; from
your Synology box to &lt;code&gt;~/.ssh/authorized_keys&lt;/code&gt; on your remote box. If this file
on your remote box already exists, then just append the contents to it rather
than overwriting it. If this file does not exist, then create it.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;If you create it manually then make sure the following files have the following
permissions otherwise SSH will not allow you to use&lt;/em&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;0700: ~/.ssh&lt;/li&gt;
&lt;li&gt;0644: ~/.ssh/authorized_keys&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;You should be able to SSH from your Synology Diskation to your remote machine
without specifying a password. Here is an example command:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;ssh username@home -i /root/.ssh/backup -v
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;The &lt;code&gt;-i&lt;/code&gt; command tells SSH which private key to use and the &lt;code&gt;-v&lt;/code&gt; would make the
program verbose.&lt;/p&gt;

&lt;h2 id=&#34;4-configure-rsync-and-crontab:be368e5c5a440c3f73ef62c95f83fa39&#34;&gt;4. Configure rsync and crontab&lt;/h2&gt;

&lt;p&gt;Last but not least, we need to add a line in our crontab configuration to run
rsync at a specific time. Here is an example of mine:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-crontab&#34;&gt;0   0   *   *   *   root    rsync -avztP --delete --inplace /volume1/photo/ username@host:/backups/glitch/photo -e &#34;ssh -p 2222 -i /root/.ssh/backup&#34; --exclude &#34;.DS_Store&#34; --exclude &#34;@eaDir&#34; --exclude &#34;.apdisk&#34;
0   1   *   *   *   root    rsync -avztP --inplace /volume1/manuals/ username@host:/backups/glitch/manuals -e &#34;ssh -p 2222 -i /root/.ssh/backup&#34; --exclude &#34;.DS_Store&#34; --exclude &#34;@eaDir&#34; --exclude &#34;.apdisk&#34;
0   2   *   *   *   root    rsync -avztP --inplace /volume1/surveillance/ username@host:/backups/glitch/surveillance -e &#34;ssh -p 2222 -i /root/.ssh/backup&#34; --exclude &#34;.DS_Store&#34; --exclude &#34;@eaDir&#34; --exclude &#34;.apdisk&#34;
0   3   *   *   *   root    rsync -avztP --inplace /volume1/video/ username@host:/backups/glitch/video -e &#34;ssh -p 2222 -i /root/.ssh/backup&#34; --exclude &#34;.DS_Store&#34; --exclude &#34;@eaDir&#34; --exclude &#34;.apdisk&#34;
0   4   *   *   *   root    rsync -avztP --inplace /volume1/applications/ username@host:/backups/glitch/applications -e &#34;ssh -p 2222 -i /root/.ssh/backup&#34; --exclude &#34;.DS_Store&#34; --exclude &#34;@eaDir&#34; --exclude &#34;.apdisk&#34;
0   5   *   *   *   root    rsync -avztP --delete --inplace /volume1/zappiti/ username@host:/backups/glitch/zappiti -e &#34;ssh -p 2222 -i /root/.ssh/backup&#34; --exclude &#34;.DS_Store&#34; --exclude &#34;@eaDir&#34; --exclude &#34;.apdisk&#34;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;It&amp;rsquo;s important to note that each field must be indented by a tab (not a space)
and the user must be root. If you configure this another way then the Synology
server will erase the entry when you reboot the machine. Here are some
&lt;a href=&#34;http://www.freebsd.org/doc/handbook/configtuning-cron.html&#34; title=&#34;FreeBSD Configuring Cron&#34;&gt;configuration options&lt;/a&gt; for reference.&lt;/p&gt;

&lt;p&gt;Put your configuration in &lt;code&gt;/etc/crontab&lt;/code&gt;. You can use &lt;code&gt;nano&lt;/code&gt; if you&amp;rsquo;re on DSM 4
or &lt;code&gt;vi&lt;/code&gt; if you&amp;rsquo;re on DSM 5.&lt;/p&gt;

&lt;p&gt;Lastly, we need to restart the cron daemon to take note of our changes. The
command is &lt;code&gt;restart crond&lt;/code&gt; on DSM 5 machines and
&lt;code&gt;/usr/syno/sbin/synoservice --restart crond&lt;/code&gt; on DSM 4 machines.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>LSB Init.d Script Template</title>
      <link>http://richardsumilang.com/server/linux/template/lsb/lsb-init-d-script-template/</link>
      <pubDate>Sun, 76 Aug 70700 07:07:07 PST</pubDate>
      <author>Richard Sumilang</author>
      <guid>http://richardsumilang.com/server/linux/template/lsb/lsb-init-d-script-template/</guid>
      <description>&lt;p&gt;Quick little &lt;code&gt;init.d&lt;/code&gt; template:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34; &gt;#!/bin/bash
# &amp;lt;Application Name&amp;gt;
# chkconfig: 345 20 80
# description: &amp;lt;Description&amp;gt;
# processname: &amp;lt;Process Name|Application Name|Short name&amp;gt;
# author: Richard Sumilang &amp;lt;me@richardsumilang.com&amp;gt;
# see: https://wiki.debian.org/LSBInitScripts


CMD=&#34;&#34;                             # Command goes here
NAME=&#34;&amp;lt;Short Application Name&amp;gt;&#34;    # Short Application Name
PIDFILE=/var/run/$NAME.pid         # Process ID File
SCRIPTNAME=/etc/init.d/$NAME       # This script name

case &#34;$1&#34; in
start)

    # Make sure process is not already running
    if [ -f $PIDFILE ]; then
        echo &#34;PID already exists: $PIDFILE&#34;
        exit 1
    fi

    # Use pgrep to retrieve the Process ID
    $CMD
    sleep 1
    PID=`pgrep -fn &#34;$CMD&#34;`

    # Save process ID to file
    if [ -z $PID ]; then
        printf &#34;%s\n&#34; &#34;Failed to start $NAME&#34;
    else
        echo $PID &amp;gt; $PIDFILE
        printf &#34;%s\n&#34; &#34;$NAME ... Ok&#34;
    fi
;;
status)
    printf &#34;%-50s&#34; &#34;Checking $NAME...&#34;
    if [ -f $PIDFILE ]; then
        PID=`cat $PIDFILE`
        if [ -z &#34;`ps axf | grep ${PID} | grep -v grep`&#34; ]; then
            printf &#34;%s\n&#34; &#34;Process dead but pidfile exists&#34;
        else
            echo &#34;$NAME is Running&#34;
        fi
    else
        printf &#34;%s\n&#34; &#34;$NAME is not running&#34;
    fi
;;
stop)
    printf &#34;%-50s&#34; &#34;Stopping $NAME&#34;
    PID=`cat $PIDFILE`
    if [ -f $PIDFILE ]; then
        kill $PID
        printf &#34;%s\n&#34; &#34;Ok&#34;
        rm -f $PIDFILE
    else
        printf &#34;%s\n&#34; &#34;pidfile not found&#34;
    fi
;;

restart)
    $0 stop
    $0 start
;;

*)
    echo &#34;Usage: $0 {status|start|stop|restart}&#34;
    exit 1
esac&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>Replace a bad hard drive on a Synology DiskStation RAID 5 with DSM 5.0</title>
      <link>http://richardsumilang.com/server/synology/diskstation/replace-a-bad-hard-drive-on-a-synology-diskstation-raid-5-with-dsm-5-0/</link>
      <pubDate>Sun, 66 Aug 280600 06:06:06 PST</pubDate>
      <author>Richard Sumilang</author>
      <guid>http://richardsumilang.com/server/synology/diskstation/replace-a-bad-hard-drive-on-a-synology-diskstation-raid-5-with-dsm-5-0/</guid>
      <description>

&lt;p&gt;I received an alert from my Synology RAID regarding a few bad sectors on a hard
drive. Even though the RAID is still operational, it&amp;rsquo;s best practice to replace
the hard drive before any data gets corrupted due to the bad sectors.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://richardsumilang.com/images/server/synology/diskstation/how-to-replace-a-bad-hard-drive-on-a-synology-diskstation-raid-5-with-dsm-5-0/bad-sector-count.png&#34; /&gt;&lt;/p&gt;

&lt;h2 id=&#34;my-setup:dd8549fedce0a50eea9ced82d12a33b0&#34;&gt;My Setup&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;Synology DS413&lt;/li&gt;
&lt;li&gt;DSM 5.0&lt;/li&gt;
&lt;li&gt;4x Western Digital 3TB Caviar Green&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;em&gt;Tip: It&amp;rsquo;s best to purchase an extra disk when initially configuring your RAID.
While I can still find WD 3TB Caviar Green drives online, they are not the same.
Some are actually smaller than others by a few megabytes even though they are
labeled 3TB. To rebuild your RAID, you will need a disk with the &lt;code&gt;exact&lt;/code&gt; size or
more. Trying to replace it with a drive that is just 1mb smaller will not work.
Your hard drive manufacturer will release a few different versions of the same
drive model while the space may fluctuate in megabytes.&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;I tried finding a close match by using the physical date on the drive but even a
ones that I found with a month difference were smaller. While it was not
impossible to find another WD Caviar drive, it was a long and annoying search.&lt;/p&gt;

&lt;h2 id=&#34;lets-fix-it:dd8549fedce0a50eea9ced82d12a33b0&#34;&gt;Lets fix it!&lt;/h2&gt;

&lt;p&gt;&lt;em&gt;Edit: I think it&amp;rsquo;s best to remove the drive sooner rather than later and run
your system (if necessary) with only the good drives. I shut down my DiskStation
and physically removed the bad drive from the array. I did this because I did
not want to chance data being written to the a bad sector which would then make
it corrupt. I then powered on my DiskStation only when I needed something from
it. I do not recommend leaving it on with a disk removed because now it
technically has a higher chance of failure.&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;1)&lt;/strong&gt; Upon logging into your DiskStation, you will be prompted with a series of
alerts. The topmost screen, &lt;strong&gt;Storage Manager&lt;/strong&gt;, will tell your RAID is
degraded. Your system will literally beep continuously until you click the
&amp;ldquo;Beep Off&amp;rdquo; button in your &lt;strong&gt;Control Panel&lt;/strong&gt;. Your &lt;strong&gt;System Health&lt;/strong&gt; panel will
also try to gain your attention.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://richardsumilang.com/images/server/synology/diskstation/how-to-replace-a-bad-hard-drive-on-a-synology-diskstation-raid-5-with-dsm-5-0/step-1.png&#34; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;2)&lt;/strong&gt; From your &lt;strong&gt;Storage Manager&lt;/strong&gt;, click on &lt;strong&gt;Volume&lt;/strong&gt;. You will notice that the &lt;strong&gt;Manage&lt;/strong&gt; button will be disabled until you replace the failed drive with a disk of the same size or bigger.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Note: Be sure to power your down your DiskStation when swapping out the drives.
Do not try and do this with it running.&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://richardsumilang.com/images/server/synology/diskstation/how-to-replace-a-bad-hard-drive-on-a-synology-diskstation-raid-5-with-dsm-5-0/step-2.png&#34; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;3)&lt;/strong&gt; After you replace your drive, the &lt;strong&gt;Manage&lt;/strong&gt; button will no longer be
disabled. Click on that.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://richardsumilang.com/images/server/synology/diskstation/how-to-replace-a-bad-hard-drive-on-a-synology-diskstation-raid-5-with-dsm-5-0/step-3.png&#34; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;4)&lt;/strong&gt; Click the &lt;strong&gt;Repair&lt;/strong&gt; radio button and then &lt;strong&gt;Next&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://richardsumilang.com/images/server/synology/diskstation/how-to-replace-a-bad-hard-drive-on-a-synology-diskstation-raid-5-with-dsm-5-0/step-4.png&#34; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;5)&lt;/strong&gt; Select the correct disk in your system to use for the RAID and click
&lt;strong&gt;Next&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://richardsumilang.com/images/server/synology/diskstation/how-to-replace-a-bad-hard-drive-on-a-synology-diskstation-raid-5-with-dsm-5-0/step-5.png&#34; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;6)&lt;/strong&gt; You will be prompted with a warning before you continue. Make sure you&amp;rsquo;re ok with destroying all the current contents of the selected disk and click &lt;strong&gt;Ok&lt;/strong&gt; if you are.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://richardsumilang.com/images/server/synology/diskstation/how-to-replace-a-bad-hard-drive-on-a-synology-diskstation-raid-5-with-dsm-5-0/step-6.png&#34; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;7)&lt;/strong&gt; And one more window to confirm that you are ok with the warning. Click
&lt;strong&gt;Apply&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://richardsumilang.com/images/server/synology/diskstation/how-to-replace-a-bad-hard-drive-on-a-synology-diskstation-raid-5-with-dsm-5-0/step-7.png&#34; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;8)&lt;/strong&gt; You will be brought back to your &lt;strong&gt;Storage Manager&lt;/strong&gt; panel while it&amp;rsquo;s
under &lt;strong&gt;repair&lt;/strong&gt;. This took about 12 hours for it to complete. I imagine the
process could take longer if you are actively using it while it&amp;rsquo;s under repair.
If possible, try not to.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://richardsumilang.com/images/server/synology/diskstation/how-to-replace-a-bad-hard-drive-on-a-synology-diskstation-raid-5-with-dsm-5-0/step-8.png&#34; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;9)&lt;/strong&gt; When complete, your volume should say &lt;strong&gt;Normal&lt;/strong&gt; next to it.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://richardsumilang.com/images/server/synology/diskstation/how-to-replace-a-bad-hard-drive-on-a-synology-diskstation-raid-5-with-dsm-5-0/step-9.png&#34; /&gt;&lt;/p&gt;

&lt;h2 id=&#34;conclusion:dd8549fedce0a50eea9ced82d12a33b0&#34;&gt;Conclusion&lt;/h2&gt;

&lt;p&gt;The most important things to note from this are the following:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Have a spare drive on standby. Always.&lt;/li&gt;
&lt;li&gt;Completely shut down your DiskStation when swapping your drive.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;And last but not least, properly dispose of your bad hard drive correctly so any data is not recoverable:&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;http://richardsumilang.com/images/server/synology/diskstation/how-to-replace-a-bad-hard-drive-on-a-synology-diskstation-raid-5-with-dsm-5-0/disposed-drive.jpg&#34; /&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Chef Gearman Cookbook v0.1.0</title>
      <link>http://richardsumilang.com/server/virtualization/chef/chef-gearman-cookbook-v0-1-0/</link>
      <pubDate>Sun, 66 Aug 120600 06:06:06 PST</pubDate>
      <author>Richard Sumilang</author>
      <guid>http://richardsumilang.com/server/virtualization/chef/chef-gearman-cookbook-v0-1-0/</guid>
      <description>&lt;p&gt;A little &lt;a href=&#34;http://gearman.org/&#34; title=&#34;Gearman&#34;&gt;Gearman&lt;/a&gt; cookbook I put together for &lt;a href=&#34;http://www.getchef.com/&#34; title=&#34;Chef&#34;&gt;Chef&lt;/a&gt;. Supports installing
multiple versions by source. Also has a recipe for the &lt;a href=&#34;https://pecl.php.net/package/gearman&#34; title=&#34;Gearman PHP Extension&#34;&gt;PHP extension&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://github.com/rsumilang/chef-gearman&#34; title=&#34;Chef Gearman Cookbook&#34;&gt;Grab it from GitHub&lt;/a&gt;!&lt;/p&gt;

&lt;p&gt;kthxbye.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Update Chef Solo on your Vagrant</title>
      <link>http://richardsumilang.com/server/virtualization/vagrant/chef/update-chef-solo-on-your-vagrant/</link>
      <pubDate>Sun, 66 Aug 100600 06:06:06 PST</pubDate>
      <author>Richard Sumilang</author>
      <guid>http://richardsumilang.com/server/virtualization/vagrant/chef/update-chef-solo-on-your-vagrant/</guid>
      <description>&lt;p&gt;Install &lt;a href=&#34;https://github.com/schisamo/vagrant-omnibus&#34; title=&#34;Vagrant Omnibus&#34;&gt;vagrant-omnibus&lt;/a&gt;:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34; title=&#34;Install vagrant-omnibus&#34;&gt;vagrant plugin install vagrant-omnibus&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Configure your &lt;a href=&#34;http://docs.vagrantup.com/v2/vagrantfile/index.html&#34; title=&#34;Vagrantfile Doc&#34;&gt;Vagrantfile&lt;/a&gt; before provisioning to the latest version of
Chef:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-ruby&#34; title=&#34;Configure Vagrantfile&#34;&gt;config.omnibus.chef_version = :latest&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;You can also upgrade to a specific version like so:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-ruby&#34; title=&#34;Configure Vagrantfile&#34;&gt;config.omnibus.chef_version = &#34;11.12.8&#34;&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>Backing up and Restoring with MongoDB</title>
      <link>http://richardsumilang.com/server/mongodb/backing-up-and-restoring-with-mongodb/</link>
      <pubDate>Sun, 56 Aug 300500 05:05:05 PST</pubDate>
      <author>Richard Sumilang</author>
      <guid>http://richardsumilang.com/server/mongodb/backing-up-and-restoring-with-mongodb/</guid>
      <description>

&lt;h2 id=&#34;dump:93a29bfa8cd1a35364b077bea9abfe7d&#34;&gt;Dump&lt;/h2&gt;

&lt;p&gt;You can dump the database locally using the following &lt;code&gt;mongodump&lt;/code&gt;:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34; title=&#34;Dump Database&#34;&gt;mongodump --host DATABASE_HOST --port PORT -d YOUR_DATABASE_NAME -u YOUR_DB_USERNAME -p YOUR_DB_PASSWORD&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;This will create a &lt;code&gt;dump&lt;/code&gt; folder containing a subfolder named after your
database. The default port for MongoDB is &lt;code&gt;27017&lt;/code&gt;.&lt;/p&gt;

&lt;h2 id=&#34;import:93a29bfa8cd1a35364b077bea9abfe7d&#34;&gt;Import&lt;/h2&gt;

&lt;p&gt;You can import the same dump to a local MongoDB instance using something like
the following &lt;code&gt;mongorestore&lt;/code&gt; after changing into the &lt;code&gt;dump&lt;/code&gt; directory:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34; title=&#34;Restore Database&#34;&gt;mongorestore --host DATABASE_HOST --port PORT -d DATABASE_NAME_TO_IMPORT_TO --drop DATABASE_NAME_TO_IMPORT_FROM&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;strong&gt;Note: This will drop the collections in the DATABASE_NAME_TO_IMPORT_TO database before restoring the same collections from your database dump.&lt;/strong&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>How to install Gearman on OS X</title>
      <link>http://richardsumilang.com/server/gearman/install-gearman-on-os-x/</link>
      <pubDate>Sun, 46 Aug 230400 04:04:04 PST</pubDate>
      <author>Richard Sumilang</author>
      <guid>http://richardsumilang.com/server/gearman/install-gearman-on-os-x/</guid>
      <description>

&lt;p&gt;Setup &lt;a href=&#34;http://gearman.org/&#34; title=&#34;Gearman&#34;&gt;Gearman&lt;/a&gt; job server with OS X 10.9.2 Mavericks using &lt;a href=&#34;http://brew.sh/&#34; title=&#34;Homebrew&#34;&gt;brew&lt;/a&gt;.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34; title=&#34;Install&#34;&gt;brew install gearman&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;If you get an error during the build:&lt;/p&gt;

&lt;pre title=&#34;Build error&#34;&gt;==&amp;gt; make install
#  include &amp;lt;tr1/cinttypes&amp;gt;
           ^
1 error generated.
make[1]: *** [libgearman/libgearman_libgearman_la-check.lo] Error 1
make: *** [install] Error 2
Error: Homebrew doesn’t know what compiler versions ship with your version
of Xcode (5.1.1). Please `brew update` and if that doesn’t help, file
an issue with the output of `brew —config`:
  https://github.com/mxcl/homebrew/issues
[...]&lt;/pre&gt;

&lt;p&gt;Then you can run this command to possibly fix it:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34; title=&#34;Testing script&#34;&gt;xcode-select —install
brew update
brew install gearman&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;And lastly some useful install notes copied from the end of the script worth
noting:&lt;/p&gt;

&lt;h3 id=&#34;start-gearman-at-boot-time:4b97c9df63f5069ed976daee649308bc&#34;&gt;Start gearman at boot time:&lt;/h3&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34; title=&#34;Start at boot&#34;&gt;ln -sfv /usr/local/opt/gearman/*.plist ~/Library/LaunchAgents&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;start-gearman-now:4b97c9df63f5069ed976daee649308bc&#34;&gt;Start gearman now:&lt;/h3&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34; title=&#34;Start now&#34;&gt;launchctl load ~/Library/LaunchAgents/homebrew.mxcl.gearman.plist&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;raw-start:4b97c9df63f5069ed976daee649308bc&#34;&gt;Raw start:&lt;/h3&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34; title=&#34;Raw start&#34;&gt;gearmand -d&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>How to install Redis on OS X</title>
      <link>http://richardsumilang.com/server/redis/install-redis-on-os-x/</link>
      <pubDate>Sun, 46 Aug 40400 04:04:04 PST</pubDate>
      <author>Richard Sumilang</author>
      <guid>http://richardsumilang.com/server/redis/install-redis-on-os-x/</guid>
      <description>

&lt;p&gt;This is my setup of redis with OS X 10.9.2 Mavericks and requires &lt;a href=&#34;http://brew.sh/&#34; title=&#34;Homebrew&#34;&gt;brew&lt;/a&gt;.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;brew install redis&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;start-redis-when-computer-starts:8ef80bea16043b08a980d953111c1223&#34;&gt;Start redis when computer starts:&lt;/h3&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;ln -sfv /usr/local/opt/redis/*.plist ~/Library/LaunchAgents&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;start-redis:8ef80bea16043b08a980d953111c1223&#34;&gt;Start redis:&lt;/h3&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;launchctl load ~/Library/LaunchAgents/homebrew.mxcl.redis.plist&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;without-using-launchctl:8ef80bea16043b08a980d953111c1223&#34;&gt;Without using `launchctl:&lt;/h3&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;redis-server /usr/local/etc/redis.conf&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id=&#34;check-is-redis-is-correctly-running:8ef80bea16043b08a980d953111c1223&#34;&gt;Check is redis is correctly running:&lt;/h3&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;redis-cli ping&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;This should reply with &lt;code&gt;PONG&lt;/code&gt; if successful.&lt;/p&gt;

&lt;h2 id=&#34;configuration:8ef80bea16043b08a980d953111c1223&#34;&gt;Configuration&lt;/h2&gt;

&lt;p&gt;The configuration file is located in &lt;code&gt;/usr/local/etc/redis.conf&lt;/code&gt;.&lt;/p&gt;

&lt;h3 id=&#34;uninstall-redis:8ef80bea16043b08a980d953111c1223&#34;&gt;Uninstall redis:&lt;/h3&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;brew uninstall redis; rm ~/Library/LaunchAgents/homebrew.mxcl.redis.plist&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
  </channel>
</rss>
